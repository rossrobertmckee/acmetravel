  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pickadate.js/3.5.3/themes/default.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pickadate.js/3.5.3/themes/default.date.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pickadate.js/3.5.3/themes/default.time.css">

  <script src="//cdnjs.cloudflare.com/ajax/libs/pickadate.js/3.5.3/picker.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/pickadate.js/3.5.3/picker.date.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/pickadate.js/3.5.3/picker.time.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/pickadate.js/3.5.3/legacy.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.5/typeahead.jquery.js"></script>
  <script src="https://raw.githubusercontent.com/danielfarrell/bootstrap-combobox/master/js/bootstrap-combobox.js"></script>

<!--  Deactivated to prevent searching for incorrect airport code.  Do not reomve!
  <script>
      $(function () {
        $('#origin').autocomplete({
          appendTo : "searchModal",
        }); 
      });
  </script> --> 

<!-- In place for autocomplete.  Remove after Autocomple refactor! -->
<script type="text/javascript">
  $(document).ready(function(){
    $('.combobox').combobox();
  });
</script>

<script>
$(document).ready(function() {
    $('#departureDate').pickadate({
        format: 'mm/dd/yyyy',
        formatSubmit: 'yyyy-mm-dd',
        min: true,
        max: 89,
        hiddenName: true,

    });

    $('#departureDate')
        .pickadate('picker')
        .on('render', function() {
            $('#pickDateForm').formValidation('revalidateField', 'departureDate');
        });
});
</script>  

<script>
$(document).ready(function() {
    $('#latestDate').pickadate({
        format: 'mm/dd/yyyy',
        formatSubmit: 'yyyy-mm-dd',
        min: true,
        max: 89,
        hiddenName: true,
    });

    $('#latestDate')
        .pickadate('picker')
        .on('render', function() {
            $('#pickDateForm').formValidation('revalidateField', 'latestDate');
        });
});
</script> 

<script>
$(document).ready(function() {
    $('#signinForm').formValidation({
        framework: 'bootstrap',
        live: 'enabled',
        icon: {
            // valid: 'glyphicon glyphicon-ok',
            invalid: 'glyphicon glyphicon-remove',
            validating: 'glyphicon glyphicon-refresh'
        },
        fields: {
            "search[maxfare]": {
                validators: {
                    notEmpty: {
                        message: 'Please enter your max cost.'
                    },
                    numeric: {
                        message: 'The cost must be a number'
                    },
                    greaterThan: {
                        value: 50
                    }
                }
            },
            "search[earliestdeparturedate]": {
                validators: {
                    date: {
                        format: 'MM/DD/YYYY',
                        message: 'The date is not valid (YYYY-MM-DD)'
                    }
                }
            },
            "search[latestdeparturedate]": {
                validators: {
                    date: {
                        format: 'YYYY-MM-DD',
                        message: 'The date is not valid (YYYY-MM-DD)'
                    }
                }
            },
            "search[lengthofstay]": {
                validators: {
                    notEmpty: {
                      message: 'Please input desired length of trip'
                    },
                    greaterThan: {
                        value: 0
                    },
                    lessThan: {
                        value: 17
                    }
                }
            }
        }
    });
});
</script>




    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top topnav" role="navigation">
        <div class="container topnav">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand topnav" href="#">TripRender.com</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#about">Home</a>
                    </li>
                    <li>
                        <a href="#services">How it works</a>
                    </li>
                    <li>
                        <a href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>
    <!-- Modal -->
    <div id="searchModal" class="modal fade" role="dialog">
      <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">You're practically there already!</h4>
      </div>
      <div class="modal-body">




<form action="/flights/search" method="POST" id="signinForm" class="form-horizontal">
          <div class="form-group">
          <div id="fare_length" class="text-center">
            Where are you leving from?<a href="#"><a href="#"><%= image_tag 'help2.png' %></a>
          </div>
            <!-- Deactivated to prevent searching for incorrect airport code.  Do not reomve! Restore after refactor.
              <input type="text" class="form-control" id='origin' placeholder="Origin Code (LAX)" name="search[origin]" data-autocomplete="airports/autocomplete_airport_city"> -->
              <select class="form-control combobox" id="origin" name="search[origin]" required>
                  <option></option>
                  <option value="ATL">ATL - Atlanta</option>
                  <option value="BNA">BNA - Nashville</option>
                  <option value="BWI">BWI - Baltimore</option>
                  <option value="ANC">ANC - Anchorage</option>
                  <option value="BOS">BOS - Boston</option>
                  <option value="CLE">CLE - Cleveland</option>
                  <option value="CLT">CLT - Charlotte</option>
                  <option value="CVG">CVG - Hebron</option>
                  <option value="DCA">DCA - Arlington</option>
                  <option value="DEN">DEN - Denver</option>
                  <option value="DFW">DFW - Dallas/Fort Worth</option>
                  <option value="DTW">DTW - Detroit</option>
                  <option value="EWR">EWR - Newark</option>
                  <option value="FLL">FLL - Fort Lauderdale</option>
                  <option value="IAD">IAD - Washington</option>
                  <option value="IAH">IAH - Houston</option>
                  <option value="ILN">ILN - Wilmington</option>
                  <option value="LAS">LAS - Las Vegas</option>
                  <option value="LAX">LAX - Los Angeles</option>
                  <option value="MCO">MCO - Orlando</option>
                  <option value="MCI">MCI - Kansas City</option>
                  <option value="MDW">MDW - Chicago</option>
                  <option value="MEM">MEM - Memphis</option>
                  <option value="MIA">MIA - Miami</option>
                  <option value="MKE">MKE - Milwaukee</option>
                  <option value="MSP">MSP - St. Paul</option>
                  <option value="ORD">ORD - Chicago</option>
                  <option value="PDX">PDX - Portland</option>
                  <option value="PHL">PHL - Philadelphia</option>
                  <option value="PHX">PHX - Phoenix</option>
                  <option value="SAN">SAN - San Diego</option>
                  <option value="SFO">SFO - San Francisco</option>
                  <option value="SEA">SEA - Seattle</option>
                  <option value="SJU">SJU - Carolina</option>
                  <option value="SLC">SLC - Salt Lake City</option>
                  <option value="STL">STL - St. Louis</option>
                  <option value="TOL">TOL - Swanton</option>
                  <option value="TPA">TPA - Tampa</option>
                  <option value="JFK">JFK - New York</option>
                  <option value="LGA">LGA - New York</option>
              </select>
          </div>
          <div id="fare_length" class="text-center">
            What type of trip are you looking for?<br />Pick what sounds best.
          </div>
          <div class="form-group">
             <select class="form-control" id="length_of_stay" name="search[theme]" required>
                <option value="" selected disabled>Destination types:</option>
                <option value="beach">Sand, waves, and sunshine.</option>
                <option value="skiing">Somewhere with skiing</option>
                <option value="caribbean">Somewhere tropical</option>
                <option value="outdoors">The great outdoors</option>
                <option value="gambling">Casinos, bars, and clubs</option>
                <option value="romantic">Somewhere romantic</option>
                <option value="shopping">Somewhere to shop</option>
                <option value="theme-park">A major theme park</option>
              </select>
          </div>
          <div id="fare_length" class="text-center">
            Enter the most you can spend,<br />and how many days you wish to travel.
          </div>
          <div class="form-group">
            <div class="col-xs-6">
              <div class="input-group">
                <div class="input-group-addon">$</div>
                  <input type="text" class="form-control" id="maxfare" name="search[maxfare]" required>
                <div class="input-group-addon">.00</div>
              </div>
            </div>
            <div class="col-xs-6">
              <div class="input-group">
                <input type="text" class="form-control" id="length_of_stay" name="search[lengthofstay]" placeholder="Trip Length" required>
                <div class="input-group-addon">Days</div>
              </div>
            </div>
          </div>
          <div id="dates" class="text-center">
            Optional: Pick an earliest and latest departure date. <a href="#"><%= image_tag 'help2.png' %></a>
          </div>
          <div class="form-group">
            <div class="col-xs-6">
              <input type="text" class="form-control" name="search[earliestdeparturedate]" placeholder= "Earliest departure" id="departureDate" />
            </div>
            <div class="col-xs-6">
              <input type="text" class="form-control" name="search[latestdeparturedate]" placeholder= "Latest departure" id="latestDate" />
            </div>
          </div>
          <div class="form-group">
            <div class="checkbox">
              <label><input type="checkbox" name="temperature_limit" value="bring_the_heat">At least 72&deg;?</label>
            </div>
          </div>
          <div class="btn-search">
            <button type="submit" class="btn btn-success btn-lg">Search</button>
          </div>
              <% flash.each do |key, value| %>
                <br /><br />
                <div class="alert alert-<%= key %>"><%= value %></div>
              <% end %>
        </form>
        <br />
        </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>

    <!-- Header -->
    <a name="about"></a>
    <div class="intro-header">
        <div class="container">

            <div class="row">
                <div class="col-lg-12">
                    <div class="intro-message">
                        <h1>The perfect destination</h1>
                        <h3>Tell us what you're looking for...<br />and we'll find it.</h3>
                        <hr class="intro-divider">
                        <ul class="list-inline intro-social-buttons">
                            <li>
                                <button type="button" class="btn btn-success btn-lg" data-toggle="modal" data-target="#searchModal"><span class="network-name">Start Searching!</span></button>
                            </li>
                            <li>
                                <a href="#services" class="btn btn-warning btn-lg"><span class="network-name">How it works</span></a>
                            </li>
                        </ul>
                        <% flash.each do |key, value| %>
                          <br /><br />
                          <div class="alert alert-<%= key %>"><%= value %></div>
                        <% end %>
                    </div>
                </div>
            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.intro-header -->

    <!-- Page Content -->

  <a  name="services"></a>
    <div class="content-section-a">

        <div class="container">
            <div class="row">
                <div class="col-lg-5 col-sm-6">
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">First off, whatcha lookin for?<br>Choose a destination type.</h2>
                    <p class="lead">The best part about Triprender: you don't need a destination in mind!  TripRender searches thousands of cities aorund the world based on your search criteria and only returns exactly what you're looking for!<br />All you need to do is selct a destintion type from the drop-down list.</p>
                </div>
                <div class="col-lg-5 col-lg-offset-2 col-sm-6">
                  <br />
                    <%=image_tag('destination.png', {class:'img-responsive'}) %>
                </div>
            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.content-section-a -->

    <div class="content-section-b">

        <div class="container">

            <div class="row">
                <div class="col-lg-5 col-lg-offset-1 col-sm-push-6  col-sm-6">
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">How much can you spend<br>and how long you can stay for?</h2>
                    <p class="lead">Tell us the most you're willing to spend on airfare and we'll only show you trips you can afford. <br />Additionally, we'll need to know how many days you can travel.  Sound strange?  At TripRender, we search the up coming 90 days for your trip<a href="#"><%= image_tag 'help2.png' %></a>.  If you need more control over dates, then keep reading...</p>
                </div>
                <br />
                <div class="col-lg-5 col-sm-pull-6  col-sm-6">
                    <%=image_tag('price.png', {class:'img-responsive'}) %>
                </div>
            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.content-section-b -->

    <div class="content-section-a">

        <div class="container">

            <div class="row">
                <div class="col-lg-5 col-sm-6">
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">Take control over departure<br>and choose a date range.</h2>
                    <p class="lead">If you're unable to let TripRender find flights anytime within the next 90 days, you can use our <b>optional</b> Date Range feature. To narrow down the dates, choose the soonest you can possibly leave and the latest possible date you can leave. If you need an exact departure day, set both fields to the same date. <a href="#"><%= image_tag 'help2.png' %></a></p>
                </div>
                <br />
                <div class="col-lg-5 col-lg-offset-2 col-sm-6">
                    <%=image_tag('dates.png', {class:'img-responsive'}) %>
                </div>
            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.content-section-a -->

    <div class="content-section-b">

        <div class="container">

            <div class="row">
                <div class="col-lg-5 col-lg-offset-1 col-sm-push-6  col-sm-6">
                    <hr class="section-heading-spacer">
                    <div class="clearfix"></div>
                    <h2 class="section-heading">You're almost there!<br>Pick your destination...</h2>
                    <p class="lead">Depending on your search criteria, up to 50 of the <b>top</b> destinations will be presented.<br />First, pick the destination. Then, pick a price and corresponding date range that works best for you. Lastly, click on "Check Times" to see all availble times for that price on those dates. Boom. </p>
                </div>
                <br />
                <div class="col-lg-5 col-sm-pull-6  col-sm-6">
                    <%=image_tag('destinations.png', {class:'img-responsive'}) %>
                </div>
            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.content-section-b -->
  <a  name="contact"></a>
    <div class="banner">

        <div class="container">

            <div class="row">
                <div class="col-lg-6">
                    <h2>Ready to start searching?</h2>
                </div>
                <div class="col-lg-6">
                    <ul class="list-inline banner-social-buttons">
                        <li>
                           <button type="button" class="btn btn-success btn-lg" data-toggle="modal" data-target="#searchModal">Yeah Buddy!</button>
                        </li>
                        <li>
                            <button type="button" class="btn btn-warning btn-lg" data-toggle="modal" data-target="#instructionsModal">I need more help</button>
                        </li>
                        <li>
                            <button type="button" class="btn btn-default btn-lg" data-toggle="modal" data-target="#contactModal">Contact Us</button>
                        </li>
                    </ul>
                </div>
            </div>

        </div>
        <!-- /.container -->

    </div>
    <!-- /.banner -->

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <ul class="list-inline">
                        <li>
                            <a href="#">Home</a>
                        </li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li>
                            <a href="#services">How it works</a>
                        </li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li>
                            <a href="#contact">Contact</a>
                        </li>
                    </ul>
                    <p class="copyright text-muted small">Copyright &copy; TripRender 2015. All Rights Reserved</p>
                </div>
            </div>
        </div>
    </footer>


  <!-- script references -->

    <!-- script src="js/bootstrap.min.js">/script> -->
    <!-- Moments.js minified CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.min.js"></script>

    <!-- Bootstrap datepicker -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.14.30/js/bootstrap-datetimepicker.min.js"></script>
